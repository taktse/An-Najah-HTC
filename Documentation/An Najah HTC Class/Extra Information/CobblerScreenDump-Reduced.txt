
Screen Dump For Cobbler Installation Part 1
Many of the uninteresting lines have been removed

htc182> yum install cobbler fence-agents cobbler-web dnsmasq syslinux pykickstart xinetd
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrordenver.fdcservers.net
 * epel: mirror.colorado.edu
 * extras: mirror.compevo.com
 * updates: repos-tx.psychz.net

  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Lots of out removed <<<<<<<<<<<<<<<<<<<<<<<<<<<

Resolving Dependencies
Installed:
  cobbler.x86_64 0:2.8.2-1.el7             cobbler-web.noarch 0:2.8.2-1.el7    dnsmasq.x86_64 0:2.76-2.el7_4.2    fence-agents-all.x86_64 0:4.0.11-66.el7_4.4   
  pykickstart.noarch 0:1.99.66.12-1.el7    syslinux.x86_64 0:4.05-13.el7       xinetd.x86_64 2:2.3.15-13.el7     

Dependency Installed:
  OpenIPMI-modalias.x86_64 0:2.0.19-15.el7                                           PyYAML.x86_64 0:3.10-11.el7                                                
  apr.x86_64 0:1.4.8-3.el7_4.1                                                       apr-util.x86_64 0:1.5.2-6.el7                                              

  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Lots of out removed <<<<<<<<<<<<<<<<<<<<<<<<<<<

  tftp-server.x86_64 0:5.2-13.el7                                                    trousers.x86_64 0:0.3.14-2.el7                                             
  unbound-libs.x86_64 0:1.4.20-34.el7                                                yum-utils.noarch 0:1.1.31-42.el7                                           

Complete!

htc182> yum install perl
Nothing to do

htc182> systemctl enable cobblerd
Created symlink from /etc/systemd/system/multi-user.target.wants/cobblerd.service to /usr/lib/systemd/system/cobblerd.service.
htc182> systemctl enable httpd
Created symlink from /etc/systemd/system/multi-user.target.wants/httpd.service to /usr/lib/systemd/system/httpd.service.
htc182> systemctl enable xinetd

htc182> systemctl start cobblerd
htc182> systemctl start httpd
htc182> systemctl start xinetd

htc182> cobbler check
The following are potential configuration items that you may want to fix:

1 : The 'server' field in /etc/cobbler/settings must be set to something other than localhost, or kickstarting features will not work.  This should be a resolvable hostname or IP for the boot server as reachable by all machines that will use it.
2 : For PXE to be functional, the 'next_server' field in /etc/cobbler/settings must be set to something other than 127.0.0.1, and should match the IP of the boot server on the PXE network.
3 : change 'disable' to 'no' in /etc/xinetd.d/tftp
4 : Some network boot-loaders are missing from /var/lib/cobbler/loaders, you may run 'cobbler get-loaders' to download them, or, if you only want to handle x86/x86_64 netbooting, you may ensure that you have installed a *recent* version of the syslinux package installed and can ignore this message entirely.  Files in this directory, should you want to support all architectures, should include pxelinux.0, menu.c32, elilo.efi, and yaboot. The 'cobbler get-loaders' command is the easiest way to resolve these requirements.
5 : enable and start rsyncd.service with systemctl
6 : debmirror package is not installed, it will be required to manage debian deployments and repositories
7 : The default password used by the sample templates for newly installed machines (default_password_crypted in /etc/cobbler/settings) is still set to 'cobbler' and should be changed, try: "openssl passwd -1 -salt 'random-phrase-here' 'your-password-here'" to generate new one

Restart cobblerd and then run 'cobbler sync' to apply changes.


htc182> firewall-cmd --add-port=22/tcp --permanent
htc182> firewall-cmd --add-port=80/tcp --permanent
htc182> firewall-cmd --add-port=443/tcp --permanent
htc182> firewall-cmd --add-service=dhcp --permanent
htc182> firewall-cmd --add-port=69/tcp --permanent
htc182> firewall-cmd --add-port=69/udp --permanent
htc182> firewall-cmd --add-port=4011/udp --permanent
htc182> firewall-cmd --reload

htc182> openssl passwd -1
Password: 
Verifying - Password: 
$1$V.L1K9g1$c5ODnMS1iVTg86DFo.YzK1

htc182> vi /etc/cobbler/settings
htc182> setenforce 0
setenforce: SELinux is disabled
htc182> vi /etc/selinux/config
htc182> vi /etc/cobbler/modules.conf
htc182> mv /etc/cobbler/dnsmasq.template  /etc/cobbler/dnsmasq.template.save
htc182> vi /etc/cobbler/dnsmasq.template

htc182> systemctl restart cobblerd
htc182> sleep 10
htc182> cobbler sync
task started: 2018-03-11_033813_sync
task started (id=Sync, time=Sun Mar 11 03:38:13 2018)
running pre-sync triggers
cleaning trees
removing: /var/lib/tftpboot/grub/images
copying bootloaders
trying hardlink /usr/share/syslinux/pxelinux.0 -> /var/lib/tftpboot/pxelinux.0
trying hardlink /usr/share/syslinux/menu.c32 -> /var/lib/tftpboot/menu.c32
trying hardlink /usr/share/syslinux/memdisk -> /var/lib/tftpboot/memdisk
copying distros to tftpboot
copying images
generating PXE configuration files
generating PXE menu structure
rendering DHCP files
rendering DNS files
rendering TFTPD files
generating /etc/xinetd.d/tftp
cleaning link caches
running post-sync triggers
running python triggers from /var/lib/cobbler/triggers/sync/post/*
running python trigger cobbler.modules.sync_post_restart_services
running: service dnsmasq restart
received on stdout: 
received on stderr: Redirecting to /bin/systemctl restart dnsmasq.service

running shell triggers from /var/lib/cobbler/triggers/sync/post/*
running python triggers from /var/lib/cobbler/triggers/change/*
running python trigger cobbler.modules.scm_track
running shell triggers from /var/lib/cobbler/triggers/change/*
*** TASK COMPLETE ***


htc182> systemctl restart xinetd
htc182> mkdir -p /var/lib/cobbler/isos
htc182> cd /var/lib/cobbler/isos
htc182> curl -o CentOS7-x86_64-Everything.iso /sge-batch/CentOS-7-x86_64-Everything-1708.iso http://tquark.colorado.edu/computing/Install/CentOS-7-x86_64-Everything-1708.iso
htc182> mkdir /mnt/iso
htc182> mount -o loop /var/lib/cobbler/isos/CentOS7-x86_64-Everything.iso /mnt/iso
mount: /dev/loop0 is write-protected, mounting read-only


htc182> cobbler import --arch=x86_64 --path=/mnt/iso --name=Chtc182> curl -o CentOS7-x86_64-Everything.iso  http://tquark.colorado.edu/computing/Install/CentOS-7-x86_64-Everything-1708.iso
htc182> cobbler import --arch=x86_64 --path=/mnt/iso --name=CentOS7
task started: 2018-03-11_035915_import
task started (id=Media import, time=Sun Mar 11 03:59:15 2018)
Found a candidate signature: breed=redhat, version=rhel6
Found a candidate signature: breed=redhat, version=rhel7
Found a matching signature: breed=redhat, version=rhel7
Adding distros from path /var/www/cobbler/ks_mirror/CentOS7-x86_64:
creating new distro: CentOS7-x86_64
trying symlink: /var/www/cobbler/ks_mirror/CentOS7-x86_64 -> /var/www/cobbler/links/CentOS7-x86_64
creating new profile: CentOS7-x86_64
associating repos
checking for rsync repo(s)
checking for rhn repo(s)
checking for yum repo(s)
starting descent into /var/www/cobbler/ks_mirror/CentOS7-x86_64 for CentOS7-x86_64
processing repo at : /var/www/cobbler/ks_mirror/CentOS7-x86_64
need to process repo/comps: /var/www/cobbler/ks_mirror/CentOS7-x86_64
looking for /var/www/cobbler/ks_mirror/CentOS7-x86_64/repodata/*comps*.xml
Keeping repodata as-is :/var/www/cobbler/ks_mirror/CentOS7-x86_64/repodata
*** TASK COMPLETE ***



htc182> cobbler distro report
Name                           : CentOS7-x86_64
Architecture                   : x86_64
TFTP Boot Files                : {}
Breed                          : redhat
Comment                        :
Fetchable Files                : {}
Initrd                         : /var/www/cobbler/ks_mirror/CentOS7-x86_64/images/pxeboot/initrd.img
Kernel                         : /var/www/cobbler/ks_mirror/CentOS7-x86_64/images/pxeboot/vmlinuz
Kernel Options                 : {}
Kernel Options (Post Install)  : {}
Kickstart Metadata             : {'tree': 'http://@@http_server@@/cblr/links/CentOS7-x86_64'}
Management Classes             : []
OS Version                     : rhel7
Owners                         : ['admin']
Red Hat Management Key         : <<inherit>>
Red Hat Management Server      : <<inherit>>
Template Files                 : {}


htc182> cobbler profile report
Name                           : CentOS7-x86_64
TFTP Boot Files                : {}
Comment                        :
DHCP Tag                       : default
Distribution                   : CentOS7-x86_64
Enable gPXE?                   : 0
Enable PXE Menu?               : 1
Fetchable Files                : {}
Kernel Options                 : {}
Kernel Options (Post Install)  : {}
Kickstart                      : /var/lib/cobbler/kickstarts/sample_end.ks
Kickstart Metadata             : {}
Management Classes             : []
Management Parameters          : <<inherit>>
Name Servers                   : []
Name Servers Search Path       : []
Owners                         : ['admin']
Parent Profile                 :
Internal proxy                 :
Red Hat Management Key         : <<inherit>>
Red Hat Management Server      : <<inherit>>
Repos                          : []
Server Override                : <<inherit>>
Template Files                 : {}
Virt Auto Boot                 : 1
Virt Bridge                    : xenbr0
Virt CPUs                      : 1
Virt Disk Driver Type          : raw
Virt File Size(GB)             : 5
Virt Path                      :
Virt RAM (MB)                  : 512
Virt Type                      : kvm
